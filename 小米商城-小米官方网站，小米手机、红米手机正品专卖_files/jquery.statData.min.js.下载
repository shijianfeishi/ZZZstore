!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){n(2),n(3),~function(){var e,t={propertyName:"data-stat-id",urlParam:"stat",needMap:!0,domain:".mi.com",live:!1},n={parentLoop:!1,sonLoop:!1,exposure:null,re:{normalEnd:/\/(index.php|index.html|index.htm|index)$/,snapshotModalDate:/^(\/\d{10}\/)/,snapshotModalEnd:/.html$/},locationObj:{protocol:location.protocol+"//",host:location.host,pathname:location.pathname}},i=function(t,i,s){{var a=xmstLittle(t).hasClass("J_linksign-customize"),l=a?xmstLittle(t).children():t[0].getElementsByTagName("a"),u={page:xmstLittle.getPcid(),point:null};l.length-1}i===s&&(n.parentLoop=!0),xmstLittle.each(l,function(t,n){var s=xmstLittle(n).elements[0],l="";if("true"!=s.getAttribute("data-stat-exclude")){var c=xmstLittle.trim(s.getAttribute("href"))||s.getAttribute("data-stat-productid")||"",d=xmstLittle.trim(s.innerText),p=s.parentNode.getAttribute("class")||s.getAttribute("class")||"",m=i+""+t;aid=s.getAttribute("data-stat-aid"),pid=s.getAttribute("data-stat-pid"),logCode=s.getAttribute("data-log_code")||"";var g=c+d+p;g=a?g+m:g,u.point=pid?aid+"+"+pid:xmstMd5(g);var l=s.getAttribute("onclick")||"",f=o(r(u,"-"),c,logCode),h=f+l;e.repeat&&(h=f,s.removeAttribute(e.propertyName),s.removeAttribute("onclick"),s.setAttribute("data-stat-repeat",!0)),s.getAttribute(e.propertyName)||(s.setAttribute(e.propertyName,u.point),s.setAttribute("onclick",h))}})},o=function(e,t,n){var i=xmstLittle.stripscript("'trackEvent', '"+e+"', '"+t+"', 'pcpid', '"+n+"'");return"_msq.push(["+i+"]);"},r=function(e,t){var n=[];if("undefined"!=typeof e)for(var i in e){var o=e[i];o=null==o||""==o?"00":o,n.push(o)}return n.join(t)};xmstLittle.fn.linkSign=function(n){e=xmstLittle.extend(t,n);var o=this.length-1,r=this.elements;xmstLittle.each(r,function(e,t){i(r,e,o)})},xmstLittle(function(){xmstLittle("body").linkSign()})}()},function(e,t){!function(e,t){var n={},i=n.toString,o="1.0.0",r=function(e,t){return new r.fn.init(e,t)};r.fn=r.prototype,r.fn={constructor:r,each:function(e,t){return r.each(this,e,t)},pushStack:function(e){var t=r.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t}};var s=r.fn.init=function(e){if(this.elements=[],!e)return this;switch(typeof e){case"function":r.bindEvent(window,"load",e);break;case"string":switch(e.charAt(0)){case"#":this.elements.push(document.getElementById(e.substring(1)));break;case".":this.elements=r.getByClass(document,e.substring(1));break;default:this.elements=document.getElementsByTagName(e)}break;case"object":e.constructor===Array?this.elements=e:this.elements.push(e)}return void 0!==e&&(this.selector=e,this.length=this.elements.length,this.elements=this.elements),this};return s.prototype=r.fn,r.extend=r.fn.extend=function(){var e,t,n,i,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[l]||{},l++),"object"==typeof a||r.isFunction(a)||(a={}),l===u&&(a=this,l--);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=a[i],n=o[i],a!==n&&(c&&n&&(r.isPlainObject(n)||(t=r.isArray(n)))?(t?(t=!1,s=e&&r.isArray(e)?e:[]):s=e&&r.isPlainObject(e)?e:{},a[i]=r.extend(c,s,n)):void 0!==n&&(a[i]=n));return a},r.fn.extend({hasClass:function(e){for(var t=/[\t\r\n\f]/g,n=this.elements,i=" "+e+" ",o=0,r=n.length;r>o;o++)if(1===n[o].nodeType&&(" "+n[o].className+" ").replace(t," ").indexOf(i)>=0)return!0;return!1}}),r.extend({isFunction:function(e){return"function"===r.type(e)},isArray:Array.isArray||function(e){return"array"===r.type(e)},isWindow:function(e){return null!=e&&e==e.window},trim:function(e){try{return e.replace(/\s/g,"")}catch(t){return e}},stripscript:function(e){for(var t=new RegExp("[`~!$^*()%|{};\\[\\]<>?~！￥……*（）——|{}【】‘；”“。，、？]"),n="",i=0;i<e.length;i++)n+=e.substr(i,1).replace(t,"");return n},isPlainObject:function(e){var t;if(!e||"object"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!hasOwn.call(e,"constructor")&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(support.ownLast)for(t in e)return hasOwn.call(e,t);for(t in e);return void 0===t||hasOwn.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e},each:function(e,t,n){var i,o=0,s=e.length,a=r.isArraylike(e);if(n){if(a)for(;s>o&&(i=t.apply(e[o],n),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],n),i===!1)break}else if(a)for(;s>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},isApp:function(){var e=navigator.userAgent.toLowerCase();return"undefined"!=typeof WE&&-1!==e.indexOf("xiaomi/miuibrowser/4.3/shop")&&-1===e.indexOf("iphone")?!0:!1},removeBlanks:function(e){for(var t="",n=0;n<e.length;n++){var i=e.charAt(n);" "!==i&&(t+=i)}return t},inArray:function(e,t){for(var n in t)if(t[n]==e)return!0;return!1},creatScript:function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},getByClass:function(e,t){for(var n=[],i=(e||document).getElementsByTagName("*"),o=0,r=i.length;r>o;o++)-1!==i[o].className.indexOf(t)&&n.push(i[o]);return n},bindEvent:function(e,t,n){e.listeners=e.listeners||{},e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n),n.bindFn=function(t){return t=t||window.event,n.call(e)===!1?(t.stopPropagation(),t.preventDefault(),!1):void 0},(1==e.nodeType||e==window||e==document)&&(e.addEventListener?e.addEventListener(t,n.bindFn,!1):e.attachEvent("on"+t,n.bindFn))},isArraylike:function(e){var t="length"in e&&e.length,n=r.type(e);return"function"===n||r.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;n>i;)e[o++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e},merge_object:function(e,t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i},setCookie:function(e,t,n,i){var o=arguments.length,r=new Date;r.setTime(r.getTime()+31104e6),document.cookie=3===o?e+"="+t+";path=/;domain="+n:e+"="+t+";path=/;domain="+n+";expires="+i},getCookie:function(e){for(var t=document.cookie,n=r.removeBlanks(t),i=n.split(";"),o=0;o<i.length;o++){var s=i[o].split("=");if(s.length>1&&s[0]===e)return s[1]}return""},getLanguage:function(){return navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage},getVendor:function(){return navigator.vendor},getPlatform:function(){return navigator.platform},getScreen:function(){return screen.width+"*"+screen.height},getDomain:function(){var e=window.location.hostname,t=e.split(".");size=t.length;var n="."+t[size-2]+"."+t[size-1];return n},triggerString:function(e){var t=window.WE||{};return t.triggerString&&t.triggerString(e,"")||""},getPcid:function(){var e=/\/(index.php|index.html|index.htm|index)$/,t=location.protocol+"//",n=location.host,i=location.pathname.replace(e,"/"),o=t+n+i;return r.setCookie("pageid",xmstMd5(o),r.getDomain()),xmstMd5(o)},getVistor:function(e){var t=r.getCookie("xm_vistor"),n=!0,i="",o=0,s=(new Date).getTime();if(""!==t){var a=t.split("-");2==a.length&&(i=a[0],o=a[1],18e5>=s-o&&(n=!1))}return n&&(i=e+"_"+s),o=s,r.setCookie("xm_vistor",i+"-"+o,r.getDomain()),i},getVars:function(e){var t="";if(e===[])return"";for(var n in e)t+="&"+n+"="+encodeURIComponent(e[n]);return t},getMstuid:function(){var e=new Date,t=e.getTime()+"_"+Math.round(1e4*Math.random());return t},getRandomNum:function(){return Math.round(2147483647*Math.random())},getRefDomain:function(e){var t=document.createElement("a");return t.href=e,t.hostname},uuid:function(e,t){var n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(t=t||i.length,e)for(n=0;e>n;n++)o[n]=i[0|Math.random()*t];else{var r;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",n=0;36>n;n++)o[n]||(r=0|16*Math.random(),o[n]=i[19==n?3&r|8:r])}return o.join("")},getBaseParam:function(e){var t=document.location.href.replace(/&/g,"|"),n=document.referrer.replace(/&/g,"|");if(n=n.toLowerCase()){var i=r.getRefDomain(n),s=r.getCookie("lastsource");s&&r.setCookie("lastsource",s,r.getDomain()),(i.indexOf(".mi.com")<0||i.indexOf("s1.mi.com")>-1||i.indexOf("p.www.xiaomi.com")>-1||i.indexOf("a.union.mi.com")>-1)&&r.setCookie("lastsource",i,r.getDomain())}var a=r.getCookie("xm_www_sid"),l=r.getCookie("mstuid"),u=r.getCookie("muuid"),c=r.getCookie("mucid"),d=r.getCookie("mutid"),p=r.getCookie("mstz")||"";if(""===p||p.split("|").length<3){var m=[];m[0]="",m[1]="",m[2]=r.getRandomNum().toString()+".0";var g="mstz",f=m.join("|");r.setCookie(g,f,r.getDomain())}p=r.getCookie("mstz");var h=p.split("|")||[],v=(4==h.length?0:1,h[0]||""),_=h[1]||"";if(h[2]){var w=[];w=h[2].split(".")||"";var y=w[0],L=parseInt(w[1])+1;h[2]=w[0]+"."+L.toString()}var x=h[3]||"",b=h[4]||"",k=h[5]||"",C=0,E=encodeURIComponent(n);""==E&&(b="",k=""),E!=b&&t!=n?(k=b,b=E):""!=E&&(C=1),h[3]=encodeURIComponent(x),h[4]=encodeURIComponent(b),h[5]=encodeURIComponent(k),r.setCookie("mstz",h.join("|"),r.getDomain());var T=r.getCookie("lastsource"),A=0,S=new Date;S.setTime(S.getTime()+62208e6),""===l&&(A=1,l=r.getMstuid()),r.setCookie("mstuid",l,r.getDomain(),S.toGMTString());var D="",O=new Date;e.curl=void 0===e.curl||""==e.curl?location.href:e.curl,e.xmv=r.getVistor(l),e.v=o,void 0===e.vuuid&&(e.vuuid=r.uuid(16,32));var j=r.getCookie("userId"),I="";r.isApp&&(j||(j=r.triggerString("get_encrypt_uid")),I=r.triggerString("get_shop_deviceid"));var z=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},N=new Date;N.setTime(N.getTime()+18e5);var V=["client_id","masid","edm_task","miwd"];return r.each(V,function(e,t){var n=z(t);n&&r.setCookie(t,n,r.getDomain(),N)}),D="mid="+(r.getCookie("euid")||j)+"&device_id="+I+"&phpsessid="+a+"&mstuid="+l+"&muuid="+u+"&mucid="+c+"&sessionId="+y+"&step="+L+"&new_visitor="+A+"&mstprevpid="+encodeURIComponent(v)+"&mstprev_pid_loc="+x+"&prevtarget="+_+"&lastsource="+T+"&timestamp="+O.getTime()+"&ref="+E+"&domain="+r.getDomain()+"&screen="+r.getScreen()+"&language="+r.getLanguage()+"&vendor="+r.getVendor()+"&platform="+r.getPlatform()+"&gu="+k+"&miwd="+r.getCookie("miwd")+"&edm_task="+r.getCookie("edm_task")+"&masid="+r.getCookie("masid")+"&client_id="+r.getCookie("client_id")+"&pu="+b+"&rf="+C+"&mutid="+d+"&muwd="+encodeURIComponent(r.getCookie("muwd"))}}),r.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()}),"undefined"!=typeof window&&(window.xmstLittle=r),r}(window)},function(module,exports){xmstSp=function(instanceSettings){function _init(){_isInitialized||(_defaultSettings={elements_selector:"a",container:window,threshold:300,throttle:300,skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_processed:null},_supportsAddEventListener=!!window.addEventListener,_supportsAttachEvent=!!window.attachEvent,_supportsClassList=!!document.body.classList,_isInitialized=!0)}function _addEventListener(e,t,n){return _supportsAddEventListener?void e.addEventListener(t,n):void(_supportsAttachEvent&&(e.attachEvent("on"+t,function(e){return function(){n.call(e,window.event)}}(e)),e=null))}function _removeEventListener(e,t,n){return _supportsAddEventListener?void e.removeEventListener(t,n):void(_supportsAttachEvent&&e.detachEvent("on"+t,n))}function _isInsideViewport(e,t,n){function i(){return window.innerWidth||d.documentElement.clientWidth||document.body.clientWidth}function o(){return window.innerHeight||d.documentElement.clientHeight||document.body.clientHeight}function r(e){return e.getBoundingClientRect().top+p-d.documentElement.clientTop}function s(e){return e.getBoundingClientRect().left+m-d.documentElement.clientLeft}function a(){var i;return i=t===window?o()+p:r(t)+t.offsetHeight,i<=r(e)-n}function l(){var o;return o=t===window?i()+window.pageXOffset:s(t)+i(),o<=s(e)-n}function u(){var i;return i=t===window?p:r(t),i>=r(e)+n+e.offsetHeight}function c(){var i;return i=t===window?m:s(t),i>=s(e)+n+e.offsetWidth}var d,p,m;return d=e.ownerDocument,p=window.pageYOffset||d.body.scrollTop,m=window.pageXOffset||d.body.scrollLeft,!(a()||u()||l()||c())}function _now(){var e=new Date;return e.getTime()}function _convertToArray(e){try{return Array.prototype.slice.call(e)}catch(t){var n,i=[],o=e.length;for(n=0;o>n;n++)i.push(e[n]);return i}}function _bind(e,t){return function(){return e.apply(t,arguments)}}function LazyLoad(){_init(),this._settings=xmstLittle.merge_object(_defaultSettings,instanceSettings),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._handleScrollFn=_bind(this.handleScroll,this),xmstLittle.bindEvent(window,"resize",this._handleScrollFn),this.update()}var _defaultSettings,_supportsAddEventListener,_supportsAttachEvent,_supportsClassList,_isInitialized=!1,vars=[],msf=function(){this.p=[]};msf.prototype.push=function(e){return"function"==typeof e[0]?void e[0](e.slice(1)):void(("setDomainId"==e[0]||"setVars"==e[0])&&this[e[0]](e.slice(1)))},msf.prototype.setVars=function(e){vars[e[0]]=e[1]},msf.prototype.setDomainId=function(e){vars.domain_id=e[0]};var _msf=new msf;_msf.p=window._msq.p;var initMsq=function(){for(i=0;i<_msf.p.length;i++)_msf.push(_msf.p[i])};return initMsq(),LazyLoad.prototype._loopThroughElements=function(){var i,element,settings=this._settings,elements=this._elements,elementsLength=elements?elements.length:0,insideLogs=[],insideLogCodes=[],logValue="",logCodeValue="",processedIndexes=[];for(i=0;elementsLength>i;i++)if(element=elements[i],(!settings.skip_invisible||null!==element.offsetParent)&&_isInsideViewport(element,settings.container,settings.threshold)){var logValue=element.getAttribute("data-log_code");logValue&&(insideLogs.push(logValue),(logCodeValue=element.getAttribute("onclick"))&&(logCodeValue=eval(logCodeValue.replace("_msq.push","")),5==logCodeValue.length&&insideLogCodes.push(logCodeValue[1]))),processedIndexes.push(i),element.wasProcessed=!0}for(insideLogs.length&&this._sendData(insideLogCodes.join(";"),encodeURIComponent(insideLogs.join(";")));processedIndexes.length>0;)elements.splice(processedIndexes.pop(),1),settings.callback_processed&&settings.callback_processed(elements.length);0===elementsLength&&this._stopScrollHandler()},LazyLoad.prototype._sendData=function(e,t){vars.pageid=xmstLittle.getPcid();var n=xmstLittle.getBaseParam(vars),i=xmstLittle.getVars(vars),o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="//a.stat.xiaomi.com/js/mstr.js?"+n+i+"&type=sp&logs="+e+"&log_codes="+t;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r)},LazyLoad.prototype._purgeElements=function(){var e,t,n=this._elements,i=n.length,o=[];for(e=0;i>e;e++)t=n[e],t.wasProcessed&&o.push(e);for(;o.length>0;)n.splice(o.pop(),1)},LazyLoad.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,xmstLittle.bindEvent(this._settings.container,"scroll",this._handleScrollFn))},LazyLoad.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,_removeEventListener(this._settings.container,"scroll",this._handleScrollFn))},LazyLoad.prototype.handleScroll=function(){var e,t,n;this._settings&&(t=_now(),n=this._settings.throttle,0!==n?(e=n-(t-this._previousLoopTime),0>=e||e>n?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=t,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(_bind(function(){this._previousLoopTime=_now(),this._loopTimeout=null,this._loopThroughElements()},this),e))):this._loopThroughElements())},LazyLoad.prototype.update=function(){this._elements=_convertToArray(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},LazyLoad.prototype.destroy=function(){_removeEventListener(window,"resize",this._handleScrollFn),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},new LazyLoad}}]);